"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8946],{80945:function(e,t,n){var r=n(85893),o=n(61953),a=n(79072),s=n(15497),i=n(29630),l=n(21609);let c=e=>{let{data:t,icon:n,name:c,selected:d,gridProps:u,iconProps:m,handleChange:p,color:h="primary"}=e,{title:f,value:g,content:x}=t;return t?(0,r.jsx)(a.ZP,{item:!0,...u,children:(0,r.jsxs)(o.Z,{onClick:()=>p(g),sx:{p:4,height:"100%",display:"flex",borderRadius:1,cursor:"pointer",position:"relative",alignItems:"center",flexDirection:"column",border:e=>"1px solid ".concat(e.palette.divider),...d===g?{borderColor:"".concat(h,".main")}:{"&:hover":{borderColor:e=>"rgba(".concat(e.palette.customColors.main,", 0.25)")}}},children:[n?(0,r.jsx)(l.Z,{icon:n,...m}):null,f?"string"==typeof f?(0,r.jsx)(i.Z,{sx:{fontWeight:500,...x?{mb:1}:{my:"auto"}},children:f}):f:null,x?"string"==typeof x?(0,r.jsx)(i.Z,{variant:"body2",sx:{my:"auto",textAlign:"center"},children:x}):x:null,(0,r.jsx)(s.Z,{name:c,size:"small",color:h,value:g,onChange:p,checked:d===g,sx:{mb:-2,...!n&&!f&&!x&&{mt:-2}}})]})}):null};t.Z=c},97966:function(e,t,n){var r=n(61953),o=n(67074),a=n(41796);let s=(0,o.ZP)(r.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.down("md")]:{"& .MuiStepper-horizontal:not(.MuiStepper-alternativeLabel)":{flexDirection:"column",alignItems:"flex-start"}},"& .MuiStep-root":{"& .step-label":{display:"flex",alignItems:"center",justifyContent:"center"},"& .step-number":{fontWeight:600,letterSpacing:.25,fontSize:"2.125rem",marginRight:t.spacing(2.5),color:t.palette.text.primary},"& .step-title":{fontWeight:500,fontSize:"0.875rem",letterSpacing:"0.1px",color:t.palette.text.primary},"& .step-subtitle":{fontWeight:400,fontSize:"0.75rem",letterSpacing:"0.4px",color:t.palette.text.secondary},"& .MuiStepLabel-root.Mui-disabled":{"& .step-number":{color:t.palette.text.disabled}},"& .Mui-error":{"& .MuiStepLabel-labelContainer, & .step-number, & .step-title, & .step-subtitle":{color:t.palette.error.main}}},"& .MuiStepConnector-root":{"& .MuiStepConnector-line":{borderWidth:3,borderRadius:3},"&.Mui-active, &.Mui-completed":{"& .MuiStepConnector-line":{borderColor:t.palette.primary.main}},"&.Mui-disabled .MuiStepConnector-line":{borderColor:(0,a.Fq)(t.palette.primary.main,.3)}},"& .MuiStepper-alternativeLabel":{"& .MuiStepConnector-root":{top:10},"& .MuiStepLabel-labelContainer":{display:"flex",alignItems:"center",flexDirection:"column","& > * + *":{marginTop:t.spacing(1)}}},"& .MuiStepper-vertical":{"& .MuiStep-root":{"& .step-label":{justifyContent:"flex-start"},"& .MuiStepContent-root":{borderWidth:3,marginLeft:t.spacing(2.25),borderColor:t.palette.primary.main},"& .button-wrapper":{marginTop:t.spacing(4)},"&.active + .MuiStepConnector-root .MuiStepConnector-line":{borderColor:t.palette.primary.main}},"& .MuiStepConnector-root":{marginLeft:t.spacing(2.25),"& .MuiStepConnector-line":{borderRadius:0}}}}});t.Z=s},59882:function(e,t,n){n.d(t,{N:function(){return i},mf:function(){return s},oS:function(){return o},tE:function(){return l}});let r=e=>{let t=new Date;return new Date(e).getDate()===t.getDate()&&new Date(e).getMonth()===t.getMonth()&&new Date(e).getFullYear()===t.getFullYear()},o=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=new Date(e),o={month:"short",day:"numeric"};return t&&r(n)&&(o={hour:"numeric",minute:"numeric"}),new Intl.DateTimeFormat("en-US",o).format(new Date(e))},a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},s=(e,t)=>{let n;if(!e)return e;let r=t.fns.cardType(e),o=a(e);switch(r){case"amex":n="".concat(o.slice(0,4)," ").concat(o.slice(4,10)," ").concat(o.slice(10,15));break;case"dinersclub":n="".concat(o.slice(0,4)," ").concat(o.slice(4,10)," ").concat(o.slice(10,14));break;default:n="".concat(o.slice(0,4)," ").concat(o.slice(4,8)," ").concat(o.slice(8,12)," ").concat(o.slice(12,19))}return n.trim()},i=e=>{let t=e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/");return t},l=(e,t,n)=>{let r=a(e),o=n.fns.cardType(t);return r.slice(0,"amex"===o?4:3)}},4032:function(e,t,n){n.d(t,{t:function(){return r}});let r={login:"login",getMe:"getMe",forgotPassword:"forgotPassword",register:"register",company:"company",companyCategory:"companyCategory",country:"country",subscription:"subscription"}},90236:function(e,t,n){n.d(t,{n:function(){return r}});let r={login:"/api/auth/local",getMe:"/api/users/me",forgotPassword:"/api/auth/forgot-password",register:"/api/auth/local/register",company:"/api/companies",companyCategory:"/api/company-categories",country:"/api/countries",subscription:"/api/subscribe-types"}},40618:function(e,t,n){n.d(t,{i7:function(){return i},xq:function(){return d},n7:function(){return p},_E:function(){return g}}),n(67294);var r=n(88767),o=n(79144),a=n(55678);let s=e=>{let{key:t="get-all",url:n="/",params:s={},showSuccessMsg:i=!1,hideErrorMsg:l=!1,enabled:c=!0}=e,{isLoading:d,isError:u,data:m,error:p,isFetching:h}=(0,r.useQuery)([t,s],()=>o.W.get(n,s),{onSuccess(){},onError(e){if(!l){var t,r;a.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"ERROR!!! ".concat(n," api not working"))}},enabled:c});return{isLoading:d,isError:u,data:m,error:p,isFetching:h}};var i=s;let l=(e,t)=>o.W.get(e,t),c=e=>{let{id:t=null,key:n="get-one",url:o="test",enabled:s=!0,params:i={},showSuccessMsg:c=!1,showErrorMsg:d=!0}=e,{isLoading:u,isError:m,data:p,error:h}=(0,r.useQuery)([n,t],()=>l("".concat(o,"/").concat(t),i),{onSuccess(){},onError(e){if(d){var t,n;a.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"ERROR!!! api not working")}},enabled:s});return{isLoading:u,isError:m,data:p,error:h}};var d=c;let u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.W.post(e,t,n)},m=e=>{let{hideSuccessToast:t=!1,listKeyId:n=null}=e,o=(0,r.useQueryClient)(),{mutate:s,isLoading:i,isError:l,error:c,isFetching:d}=(0,r.useMutation)(e=>{let{url:t,attributes:n,config:r={}}=e;return u(t,n,r)},{onSuccess(e){if(!t){var r;a.Am.success((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||"SUCCESS")}n&&o.invalidateQueries(n)},onError(e){var t,n;a.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"ERROR")}});return{mutate:s,isLoading:i,isError:l,error:c,isFetching:d}};var p=m;let h=(e,t,n)=>o.W.put(e,t,n),f=e=>{let{hideSuccessToast:t=!1,listKeyId:n=null}=e,o=(0,r.useQueryClient)(),{mutate:s,isLoading:i,isError:l,error:c,isFetching:d}=(0,r.useMutation)(e=>{let{url:t,attributes:n,config:r}=e;return h(t,n,r)},{onSuccess(e){if(!t){var r;a.Am.success((null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.message)||"SUCCESS")}n&&o.invalidateQueries(n)},onError(e){var t,n;a.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"ERROR")}});return{mutate:s,isLoading:i,isError:l,error:c,isFetching:d}};var g=f;n(85893)},73921:function(e,t,n){var r=n(85893),o=n(61953),a=n(67074),s=n(62097),i=n(41796),l=n(21609);let c=(0,a.ZP)(o.Z)(()=>({width:20,height:20,borderWidth:3,borderRadius:"50%",borderStyle:"solid"})),d=e=>{let{active:t,completed:n,error:o}=e,a=(0,s.Z)();return o?(0,r.jsx)(l.Z,{icon:"mdi:alert",fontSize:20,color:a.palette.error.main,transform:"scale(1.2)"}):n?(0,r.jsx)(l.Z,{icon:"mdi:check-circle",fontSize:20,color:a.palette.primary.main,transform:"scale(1.2)"}):(0,r.jsx)(c,{sx:{borderColor:t?"primary.main":(0,i.Fq)(a.palette.primary.main,.3)}})};t.Z=d},8946:function(e,t,n){n.d(t,{Z:function(){return Q}});var r=n(85893),o=n(67294),a=n(44044),s=n(98948),i=n(94071),l=n(29630),c=n(61953),d=n(79072),u=n(54225),m=n(53442),p=n(31538),h=n(67836),f=n(3695),g=n(55343),x=n(9041),y=n(21609),v=n(74231),b=n(87536),j=n(47533),Z=n(32631),C=n(40618),E=n(4032),S=n(90236),T=n(96486),I=n(11163),_=n(70754);let w=e=>{let{handleNext:t,handlePrev:n}=e,a=(0,I.useRouter)(),{data:s,isLoading:i}=(0,C.xq)({id:(0,T.get)(a.query,"companyId"),key:E.t.company,url:S.n.company,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,T.get)(a.query,"token"))}},enabled:!!((0,T.get)(a.query,"token")&&(0,T.get)(a.query,"companyId"))}),{data:w,isLoading:P}=(0,C.i7)({key:E.t.companyCategory,url:S.n.companyCategory,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,T.get)(a.query,"token"))}},enabled:!!(0,T.get)(a.query,"token")}),{data:k,isLoading:M}=(0,C.i7)({key:E.t.country,url:S.n.country,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,T.get)(a.query,"token"))}},enabled:!!(0,T.get)(a.query,"token")}),{mutate:L,isLoading:R}=(0,C.n7)({url:S.n.company,hideSuccessToast:!0}),q=v.Ry().shape({company_category:v.Z_().required(),name:v.Z_().required(),address:v.Z_().required(),country:v.Z_().required()}),{control:N,setError:z,handleSubmit:B,formState:{errors:A},reset:D}=(0,b.cI)({defaultValues:{company_category:"",name:"",address:"",country:""},mode:"onBlur",resolver:(0,j.X)(q)}),O=e=>{let{company_category:n,country:r,...o}=e;(0,T.get)(s,"data")?t():L({url:S.n.company,attributes:{data:{...o,country:parseInt(r),company_category:parseInt(n),user:parseInt((0,T.get)(a.query,"userId"))}},config:{headers:{Authorization:"Bearer ".concat((0,T.get)(a.query,"token"))}}},{onSuccess(e){let{data:n}=e;t(),a.replace({pathname:"/register",query:{token:(0,T.get)(a.query,"token"),userId:(0,T.get)(a.query,"userId"),companyId:(0,T.get)(n,"data.id")}})},onError(e){var t,n,r;z("company_category",{type:"manual",message:(null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.error)||void 0===r?void 0:r.message)||"error"})}})};return(0,o.useEffect)(()=>{(0,T.get)(s,"data")&&!i&&D({company_category:(0,T.get)(s,"data.company_category.id"),name:(0,T.get)(s,"data.name"),phone:(0,T.get)(s,"data.phone"),country:(0,T.get)(s,"data.country.id"),address:(0,T.get)(s,"data.address")})},[s]),(0,r.jsxs)("div",{style:{position:"relative"},children:[(R||P||M||i)&&(0,r.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,r.jsxs)(c.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(_.Z,{sx:{mb:4}}),(0,r.jsx)(l.Z,{children:"Loading..."})]})}),(0,r.jsxs)(c.Z,{sx:{mb:4},children:[(0,r.jsx)(l.Z,{variant:"h5",children:"Personal Information"}),(0,r.jsx)(l.Z,{sx:{color:"text.secondary"},children:"Enter Your Personal Information"})]}),(0,r.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:B(O),children:(0,r.jsxs)(d.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(f.Z,{id:"validation-basic-select",error:Boolean(A.company_category),htmlFor:"validation-basic-select",children:"Organization domain"}),(0,r.jsx)(b.Qr,{name:"company_category",control:N,rules:{required:!0},render(e){let{field:{value:t,onChange:n}}=e;return(0,r.jsx)(m.Z,{value:t,label:"Organization domain",onChange:n,error:Boolean(A.company_category),labelId:"validation-basic-select","aria-describedby":"validation-basic-select",children:(0,T.get)(w,"data.results",[]).map(e=>(0,r.jsx)(p.Z,{value:(0,T.get)(e,"id"),children:(0,T.get)(e,"name")},(0,T.get)(e,"id")))})}}),A.company_category&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},id:"validation-basic-select",children:"field is required"})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(b.Qr,{name:"name",control:N,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(h.Z,{label:"Organization name",value:t,onBlur:o,onChange:n,error:Boolean(A.name),placeholder:"Organization name"})}}),A.name&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},children:A.name.message})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsx)(g.Z,{fullWidth:!0,children:(0,r.jsx)(b.Qr,{name:"phone",control:N,render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(h.Z,{label:"Mobile",value:t,onBlur:o,onChange:n,placeholder:"-- --- -- --",InputProps:{startAdornment:(0,r.jsx)(x.Z,{position:"start",children:"UZ (+998)"})}})}})})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(f.Z,{id:"validation-basic-select2",error:Boolean(A.country),htmlFor:"validation-basic-select2",children:"Country"}),(0,r.jsx)(b.Qr,{name:"country",control:N,rules:{required:!0},render(e){let{field:{value:t,onChange:n}}=e;return(0,r.jsx)(m.Z,{value:t,label:"Country",onChange:n,error:Boolean(A.country),labelId:"validation-basic-select2","aria-describedby":"validation-basic-select2",children:(0,T.get)(k,"data.data",[]).map(e=>(0,r.jsx)(p.Z,{value:(0,T.get)(e,"id"),children:(0,T.get)(e,"attributes.name")},(0,T.get)(e,"id")))})}}),A.company_category&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},id:"validation-basic-select2",children:"field is required"})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(b.Qr,{name:"address",control:N,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(h.Z,{label:"Address",value:t,onBlur:o,onChange:n,error:Boolean(A.address),placeholder:"Address"})}}),A.address&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},children:A.address.message})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)(u.Z,{color:"secondary",variant:"contained",onClick:n,startIcon:(0,r.jsx)(y.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,r.jsx)(u.Z,{variant:"contained",type:"submit",endIcon:(0,r.jsx)(y.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Next"})]})})]})})]})};var P=n(80562),k=n(39063);let M=e=>{let{handleNext:t}=e,n=(0,I.useRouter)(),[a,s]=(0,o.useState)(!1),[i,m]=(0,o.useState)(!1),{data:p,isLoading:w}=(0,C.i7)({key:E.t.getMe,url:S.n.getMe,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,T.get)(n.query,"token"))}},enabled:!!(0,T.get)(n.query,"token")}),{mutate:M,isLoading:L}=(0,C.n7)({url:S.n.register,hideSuccessToast:!0}),R=v.Ry().shape({password:v.Z_().min(5).required(),repeat_password:v.Z_().min(5).required(),username:v.Z_().min(3).required(),email:v.Z_().email().required()}),{control:q,setError:N,handleSubmit:z,formState:{errors:B},reset:A}=(0,b.cI)({defaultValues:{password:"",email:"",username:"",repeat_password:""},mode:"onBlur",resolver:(0,j.X)(R)}),D=e=>{let{password:r,repeat_password:o,...a}=e;(0,T.get)(p,"data")&&t(),(0,T.isEqual)(r,o)?M({url:S.n.register,attributes:{...a,password:r,role:3}},{onSuccess(e){let{data:r}=e;t(),n.replace({pathname:"/register",query:{token:(0,T.get)(r,"jwt"),userId:(0,T.get)(r,"user.id")}})},onError(e){var t,n,r;N("username",{type:"manual",message:(null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:null===(r=n.error)||void 0===r?void 0:r.message)||"error"})}}):N("repeat_password",{type:"manual",message:"Passwords didnt match"})};return(0,o.useEffect)(()=>{(0,T.get)(p,"data")&&!w&&A({username:(0,T.get)(p,"data.username"),email:(0,T.get)(p,"data.email")})},[p]),(0,r.jsxs)("div",{style:{position:"relative"},children:[(L||w)&&(0,r.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,r.jsxs)(c.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(_.Z,{sx:{mb:4}}),(0,r.jsx)(l.Z,{children:"Loading..."})]})}),(0,r.jsxs)(c.Z,{sx:{mb:4},children:[(0,r.jsx)(l.Z,{variant:"h5",children:"Account Information"}),(0,r.jsx)(l.Z,{sx:{color:"text.secondary"},children:"Enter Your Account Details"})]}),(0,r.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:z(D),children:(0,r.jsxs)(d.ZP,{container:!0,spacing:5,children:[(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(b.Qr,{name:"username",control:q,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(h.Z,{label:"Username",value:t,onBlur:o,onChange:n,error:Boolean(B.username),placeholder:"Username"})}}),B.username&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},children:B.username.message})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:12,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(b.Qr,{name:"email",control:q,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(h.Z,{label:"Email",value:t,onBlur:o,onChange:n,error:Boolean(B.email),placeholder:"Email"})}}),B.email&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},children:B.email.message})]})}),!(0,T.get)(p,"data")&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(f.Z,{htmlFor:"auth-login-v2-password",error:Boolean(B.password),children:"Password"}),(0,r.jsx)(b.Qr,{name:"password",control:q,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(k.Z,{value:t,onBlur:o,label:"Password",onChange:n,id:"auth-login-v2-password",error:Boolean(B.password),type:a?"text":"password",endAdornment:(0,r.jsx)(x.Z,{position:"end",children:(0,r.jsx)(P.Z,{edge:"end",onMouseDown:e=>e.preventDefault(),onClick:()=>s(!a),children:(0,r.jsx)(y.Z,{icon:a?"mdi:eye-outline":"mdi:eye-off-outline",fontSize:20})})})})}}),B.password&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},id:"",children:B.password.message})]})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsxs)(g.Z,{fullWidth:!0,children:[(0,r.jsx)(f.Z,{htmlFor:"auth-login-v3-password",error:Boolean(B.repeat_password),children:"Repeat password"}),(0,r.jsx)(b.Qr,{name:"repeat_password",control:q,rules:{required:!0},render(e){let{field:{value:t,onChange:n,onBlur:o}}=e;return(0,r.jsx)(k.Z,{value:t,onBlur:o,label:"Repeat password",onChange:n,id:"uth-login-v3-password",error:Boolean(B.repeat_password),type:i?"text":"password",endAdornment:(0,r.jsx)(x.Z,{position:"end",children:(0,r.jsx)(P.Z,{edge:"end",onMouseDown:e=>e.preventDefault(),onClick:()=>m(!i),children:(0,r.jsx)(y.Z,{icon:i?"mdi:eye-outline":"mdi:eye-off-outline",fontSize:20})})})})}}),B.repeat_password&&(0,r.jsx)(Z.Z,{sx:{color:"error.main"},id:"",children:B.repeat_password.message})]})})]}),(0,r.jsx)(d.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)(u.Z,{type:"button",disabled:!0,variant:"contained",startIcon:(0,r.jsx)(y.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,r.jsx)(u.Z,{type:"submit",variant:"contained",endIcon:(0,r.jsx)(y.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Next"})]})})]})})]})};var L=n(72389),R=n(77028),q=n.n(R),N=n(80945),z=n(59882);n(61310);var B=n(17288);let A=[{value:"basic",title:(0,r.jsx)(l.Z,{variant:"h5",children:"Basic"}),content:(0,r.jsxs)(c.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(l.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"A simple start for start ups & Students"}),(0,r.jsxs)(c.Z,{sx:{mt:2,display:"flex"},children:[(0,r.jsx)(l.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,r.jsx)(l.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:"0"}),(0,r.jsx)(l.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})},{isSelected:!0,value:"standard",title:(0,r.jsx)(l.Z,{variant:"h5",children:"Standard"}),content:(0,r.jsxs)(c.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(l.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"For small to medium businesses"}),(0,r.jsxs)(c.Z,{sx:{mt:2,display:"flex"},children:[(0,r.jsx)(l.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,r.jsx)(l.Z,{component:"span",sx:{fontSize:"2rem",fontWeight:500,color:"primary.main"},children:"99"}),(0,r.jsx)(l.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})},{value:"enterprise",title:(0,r.jsx)(l.Z,{variant:"h5",children:"Enterprise"}),content:(0,r.jsxs)(c.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(l.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"Solution for enterprise & organizations"}),(0,r.jsxs)(c.Z,{sx:{mt:2,display:"flex"},children:[(0,r.jsx)(l.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,r.jsx)(l.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:"499"}),(0,r.jsx)(l.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})}],D=e=>{let{handlePrev:t}=e,n=(0,I.useRouter)(),a=(0,B.a)(),s=A.filter(e=>e.isSelected)[A.filter(e=>e.isSelected).length-1].value,[i,m]=(0,o.useState)(""),[p,f]=(0,o.useState)(""),[v,b]=(0,o.useState)(""),[j,Z]=(0,o.useState)(""),[w,P]=(0,o.useState)(s),[k,M]=(0,o.useState)([]),{data:R,isLoading:D}=(0,C.i7)({key:E.t.subscription,url:S.n.subscription,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,T.get)(n.query,"token"))}},enabled:!!(0,T.get)(n.query,"token")}),O=e=>{let{target:t}=e;"cardNumber"===t.name?(t.value=(0,z.mf)(t.value,q()),Z(t.value)):"expiry"===t.name?(t.value=(0,z.N)(t.value),b(t.value)):"cvc"===t.name&&(t.value=(0,z.tE)(t.value,j,q()),m(t.value))},$=e=>{"string"==typeof e?P(e):P(e.target.value)};(0,o.useEffect)(()=>{R&&M((0,T.get)(R,"data.data",[]).map(e=>({value:(0,T.get)(e,"attributes.name"),title:(0,r.jsx)(l.Z,{variant:"h5",children:(0,T.get)(e,"attributes.name")}),content:(0,r.jsxs)(c.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(l.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"A simple start for start ups & Students"}),(0,r.jsxs)(c.Z,{sx:{mt:2,display:"flex"},children:[(0,r.jsx)(l.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,r.jsx)(l.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:(0,T.get)(e,"attributes.salary_by_month")}),(0,r.jsx)(l.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})})))},[R]);let W=()=>"basic"==w?1:"standard"==w?2:3,{mutate:F,isLoading:Q}=(0,C._E)({listKeyId:E.t.company}),V=()=>{F({url:"".concat(S.n.company,"/").concat((0,T.get)(n.query,"companyId")),attributes:{data:{subscribe_type:W()}},config:{headers:{Authorization:"Bearer ".concat((0,T.get)(n.query,"token"))}}},{onSuccess(){n.replace({pathname:"/"}),a.checkAuth((0,T.get)(n.query,"token"))},onError(){}})};return(0,r.jsxs)("div",{style:{position:"relative"},children:[(D||Q)&&(0,r.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,r.jsxs)(c.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(_.Z,{sx:{mb:4}}),(0,r.jsx)(l.Z,{children:"Loading..."})]})}),(0,r.jsxs)(c.Z,{sx:{mb:4},children:[(0,r.jsx)(l.Z,{variant:"h5",children:"Select Plan"}),(0,r.jsx)(l.Z,{sx:{color:"text.secondary"},children:"Select plan as per your requirement"})]}),(0,r.jsxs)(d.ZP,{container:!0,spacing:5,children:[k.map((e,t)=>(0,r.jsx)(N.Z,{data:A[t],selected:w,name:"custom-radios-plan",gridProps:{sm:4,xs:12},handleChange:$},t)),(0,r.jsxs)(d.ZP,{item:!0,xs:12,sx:{pt:e=>"".concat(e.spacing(11.5)," !important")},children:[(0,r.jsx)(l.Z,{variant:"h5",children:"Payment Information"}),(0,r.jsx)(l.Z,{sx:{color:"text.secondary"},children:"Enter your card information"})]}),(0,r.jsx)(d.ZP,{item:!0,xs:12,children:(0,r.jsx)(g.Z,{fullWidth:!0,children:(0,r.jsx)(h.Z,{fullWidth:!0,name:"cardNumber",value:j,autoComplete:"off",label:"Card Number",onChange:O,placeholder:"0000 0000 0000 0000"})})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,r.jsx)(h.Z,{fullWidth:!0,name:"name",value:p,autoComplete:"off",label:"Name on Card",placeholder:"John Doe",onChange:e=>f(e.target.value)})}),(0,r.jsx)(d.ZP,{item:!0,xs:6,sm:3,children:(0,r.jsx)(h.Z,{fullWidth:!0,name:"expiry",label:"Expiry",value:v,placeholder:"MM/YY",onChange:O,inputProps:{maxLength:"5"}})}),(0,r.jsx)(d.ZP,{item:!0,xs:6,sm:3,children:(0,r.jsx)(h.Z,{fullWidth:!0,name:"cvc",label:"CVC",value:i,autoComplete:"off",onChange:O,InputProps:{endAdornment:(0,r.jsx)(x.Z,{position:"start",sx:{"& svg":{cursor:"pointer"}},children:(0,r.jsx)(L.Z,{title:"Card Verification Value",children:(0,r.jsx)(c.Z,{sx:{display:"flex"},children:(0,r.jsx)(y.Z,{icon:"mdi:help-circle-outline",fontSize:20})})})})}})}),(0,r.jsx)(d.ZP,{item:!0,xs:12,children:(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)(u.Z,{color:"secondary",variant:"contained",onClick:t,startIcon:(0,r.jsx)(y.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,r.jsx)(u.Z,{color:"success",variant:"contained",onClick:()=>V(),children:"Submit"})]})})]})]})};var O=n(73921),$=n(97966);let W=[{title:"Account",subtitle:"Account Details"},{title:"Personal",subtitle:"Enter Information"},{title:"Billing",subtitle:"Payment Details"}],F=()=>{let[e,t]=(0,o.useState)(0),n=(0,I.useRouter)();console.log(n.query);let c=()=>{t(e+1)},d=()=>{0!==e&&t(e-1)};return(0,o.useEffect)(()=>{(0,T.get)(n.query,"token")&&(0,T.get)(n.query,"userId")&&((0,T.get)(n.query,"companyId")?t(2):t(1))},[n.query]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($.Z,{sx:{mb:10},children:(0,r.jsx)(s.Z,{activeStep:e,children:W.map((e,t)=>(0,r.jsx)(a.Z,{children:(0,r.jsx)(i.Z,{StepIconComponent:O.Z,children:(0,r.jsxs)("div",{className:"step-label",children:[(0,r.jsx)(l.Z,{className:"step-number",children:"0".concat(t+1)}),(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{className:"step-title",children:e.title}),(0,r.jsx)(l.Z,{className:"step-subtitle",children:e.subtitle})]})]})})},t))})}),(e=>{switch(e){case 0:return(0,r.jsx)(M,{handleNext:c});case 1:return(0,r.jsx)(w,{handleNext:c,handlePrev:d});case 2:return(0,r.jsx)(D,{handlePrev:d});default:return null}})(e)]})};var Q=F},55678:function(e,t,n){n.d(t,{Am:function(){return P}});var r=n(67294),o=n(86010);let a=e=>"number"==typeof e&&!isNaN(e),s=e=>"string"==typeof e,i=e=>"function"==typeof e,l=e=>s(e)||i(e)?e:null,c=e=>(0,r.isValidElement)(e)||s(e)||i(e)||a(e);function d(e){let{enter:t,exit:n,appendPosition:o=!1,collapse:a=!0,collapseDuration:s=300}=e;return function(e){let{children:i,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:m}=e,p=o?`${t}--${l}`:t,h=o?`${n}--${l}`:n,f=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=u.current,t=p.split(" "),n=r=>{r.target===u.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===f.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t,n){void 0===n&&(n=300);let{scrollHeight:r,style:o}=e;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)})})}(e,d,s):d()};m||(c?t():(f.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))},[m]),r.createElement(r.Fragment,null,i)}}function u(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}let m={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){let n=this.list.get(e).filter(e=>e!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){let t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{let n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},p=e=>{let{theme:t,type:n,...o}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})},h={info:function(e){return r.createElement(p,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(p,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(p,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(p,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function f(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function g(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function x(e){let{closeToast:t,theme:n,ariaLabel:o="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick(e){e.stopPropagation(),t(e)},"aria-label":o},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function y(e){let{delay:t,isRunning:n,closeToast:a,type:s="default",hide:l,className:c,style:d,controlledProgress:u,progress:m,rtl:p,isIn:h,theme:f}=e,g=l||u&&0===m,x={...d,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:g?0:1};u&&(x.transform=`scaleX(${m})`);let y=(0,o.Z)("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),v=i(c)?c({rtl:p,type:s,defaultClassName:y}):(0,o.Z)(y,c);return r.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:v,style:x,[u&&m>=1?"onTransitionEnd":"onAnimationEnd"]:u&&m<1?null:()=>{h&&a()}})}let v=e=>{let{isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:s}=function(e){let[t,n]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),s=(0,r.useRef)(null),l=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,r.useRef)(e),{autoClose:d,pauseOnHover:u,closeToast:m,onClick:p,closeOnClick:h}=e;function x(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",j),document.addEventListener("mouseup",Z),document.addEventListener("touchmove",j),document.addEventListener("touchend",Z);let n=s.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=f(t.nativeEvent),l.y=g(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(t){if(l.boundingRect){let{top:n,bottom:r,left:o,right:a}=l.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&l.x>=o&&l.x<=a&&l.y>=n&&l.y<=r?b():v()}}function v(){n(!0)}function b(){n(!1)}function j(n){let r=s.current;l.canDrag&&r&&(l.didMove=!0,t&&b(),l.x=f(n),l.y=g(n),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${l.delta}px)`,r.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function Z(){document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",Z),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",Z);let t=s.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return a(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,r.useEffect)(()=>{c.current=e}),(0,r.useEffect)(()=>(s.current&&s.current.addEventListener("d",v,{once:!0}),i(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{let e=c.current;i(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}),[]),(0,r.useEffect)(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",v),window.addEventListener("blur",b)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",b))}),[e.pauseOnFocusLoss]);let C={onMouseDown:x,onTouchStart:x,onMouseUp:y,onTouchEnd:y};return d&&u&&(C.onMouseEnter=b,C.onMouseLeave=v),h&&(C.onClick=e=>{p&&p(e),l.canCloseOnClick&&m()}),{playToast:v,pauseToast:b,isRunning:t,preventExitTransition:o,toastRef:s,eventHandlers:C}}(e),{closeButton:l,children:c,autoClose:d,onClick:u,type:m,hideProgressBar:p,closeToast:h,transition:v,position:b,className:j,style:Z,bodyClassName:C,bodyStyle:E,progressClassName:S,progressStyle:T,updateId:I,role:_,progress:w,rtl:P,toastId:k,deleteToast:M,isIn:L,isLoading:R,iconOut:q,closeOnClick:N,theme:z}=e,B=(0,o.Z)("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":N}),A=i(j)?j({rtl:P,position:b,type:m,defaultClassName:B}):(0,o.Z)(B,j),D=!!w||!d,O={closeToast:h,type:m,theme:z},$=null;return!1===l||($=i(l)?l(O):(0,r.isValidElement)(l)?(0,r.cloneElement)(l,O):x(O)),r.createElement(v,{isIn:L,done:M,position:b,preventExitTransition:n,nodeRef:a},r.createElement("div",{id:k,onClick:u,className:A,...s,style:Z,ref:a},r.createElement("div",{...L&&{role:_},className:i(C)?C({type:m}):(0,o.Z)("Toastify__toast-body",C),style:E},null!=q&&r.createElement("div",{className:(0,o.Z)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},q),r.createElement("div",null,c)),$,r.createElement(y,{...I&&!D?{key:`pb-${I}`}:{},rtl:P,theme:z,delay:d,isRunning:t,isIn:L,closeToast:h,hide:p,type:m,style:T,className:S,controlledProgress:D,progress:w||0})))},b=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},j=d(b("bounce",!0)),Z=(d(b("slide",!0)),d(b("zoom")),d(b("flip")),(0,r.forwardRef)((e,t)=>{let{getToastToRender:n,containerRef:d,isToastActive:p}=function(e){let[,t]=(0,r.useReducer)(e=>e+1,0),[n,o]=(0,r.useState)([]),d=(0,r.useRef)(null),p=(0,r.useRef)(new Map).current,f=e=>-1!==n.indexOf(e),g=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:f,getToast:e=>p.get(e)}).current;function x(e){let{containerId:t}=e,{limit:n}=g.props;!n||t&&g.containerId!==t||(g.count-=g.queue.length,g.queue=[])}function y(e){o(t=>null==e?[]:t.filter(t=>t!==e))}function v(){let{toastContent:e,toastProps:t,staleId:n}=g.queue.shift();j(e,t,n)}function b(e,n){var o,f;let{delay:x,staleId:b,...Z}=n;if(!c(e)||!d.current||g.props.enableMultiContainer&&Z.containerId!==g.props.containerId||p.has(Z.toastId)&&null==Z.updateId)return;let{toastId:C,updateId:E,data:S}=Z,{props:T}=g,I=()=>y(C),_=null==E;_&&g.count++;let w={...T,style:T.toastStyle,key:g.toastKey++,...Z,toastId:C,updateId:E,data:S,closeToast:I,isIn:!1,className:l(Z.className||T.toastClassName),bodyClassName:l(Z.bodyClassName||T.bodyClassName),progressClassName:l(Z.progressClassName||T.progressClassName),autoClose:!Z.isLoading&&(o=Z.autoClose,f=T.autoClose,!1===o||a(o)&&o>0?o:f),deleteToast(){let e=u(p.get(C),"removed");p.delete(C),m.emit(4,e);let n=g.queue.length;if(g.count=null==C?g.count-g.displayedToast:g.count-1,g.count<0&&(g.count=0),n>0){let r=null==C?g.props.limit:1;if(1===n||1===r)g.displayedToast++,v();else{let o=r>n?n:r;g.displayedToast=o;for(let a=0;a<o;a++)v()}}else t()}};w.iconOut=function(e){let{theme:t,type:n,isLoading:o,icon:l}=e,c=null,d={theme:t,type:n};return!1===l||(i(l)?c=l(d):(0,r.isValidElement)(l)?c=(0,r.cloneElement)(l,d):s(l)||a(l)?c=l:o?c=h.spinner():n in h&&(c=h[n](d))),c}(w),i(Z.onOpen)&&(w.onOpen=Z.onOpen),i(Z.onClose)&&(w.onClose=Z.onClose),w.closeButton=T.closeButton,!1===Z.closeButton||c(Z.closeButton)?w.closeButton=Z.closeButton:!0===Z.closeButton&&(w.closeButton=!c(T.closeButton)||T.closeButton);let P=e;(0,r.isValidElement)(e)&&!s(e.type)?P=(0,r.cloneElement)(e,{closeToast:I,toastProps:w,data:S}):i(e)&&(P=e({closeToast:I,toastProps:w,data:S})),T.limit&&T.limit>0&&g.count>T.limit&&_?g.queue.push({toastContent:P,toastProps:w,staleId:b}):a(x)?setTimeout(()=>{j(P,w,b)},x):j(P,w,b)}function j(e,t,n){let{toastId:r}=t;n&&p.delete(n);let a={content:e,props:t};p.set(r,a),o(e=>[...e,r].filter(e=>e!==n)),m.emit(4,u(a,null==a.props.updateId?"added":"updated"))}return(0,r.useEffect)(()=>(g.containerId=e.containerId,m.cancelEmit(3).on(0,b).on(1,e=>d.current&&y(e)).on(5,x).emit(2,g),()=>{p.clear(),m.emit(3,g)}),[]),(0,r.useEffect)(()=>{g.props=e,g.isToastActive=f,g.displayedToast=n.length}),{getToastToRender:function(t){let n=new Map,r=Array.from(p.values());return e.newestOnTop&&r.reverse(),r.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},containerRef:d,isToastActive:f}}(e),{className:f,style:g,rtl:x,containerId:y}=e;return(0,r.useEffect)(()=>{t&&(t.current=d.current)},[]),r.createElement("div",{ref:d,className:"Toastify",id:y},n((e,t)=>{let n=t.length?{...g}:{...g,pointerEvents:"none"};return r.createElement("div",{className:function(e){let t=(0,o.Z)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":x});return i(f)?f({position:e,rtl:x,defaultClassName:t}):(0,o.Z)(t,l(f))}(e),style:n,key:`container-${e}`},t.map((e,n)=>{let{content:o,props:a}=e;return r.createElement(v,{...a,isIn:p(a.toastId),style:{...a.style,"--nth":n+1,"--len":t.length},key:`toast-${a.key}`},o)}))}))}));Z.displayName="ToastContainer",Z.defaultProps={position:"top-right",transition:j,autoClose:5e3,closeButton:x,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let C,E=new Map,S=[],T=1;function I(e,t){return E.size>0?m.emit(0,e,t):S.push({content:e,options:t}),t.toastId}function _(e,t){return{...t,type:t&&t.type||e,toastId:t&&(s(t.toastId)||a(t.toastId))?t.toastId:""+T++}}function w(e){return(t,n)=>I(t,_(e,n))}function P(e,t){return I(e,_("default",t))}P.loading=(e,t)=>I(e,_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),P.promise=function(e,t,n){let r,{pending:o,error:a,success:l}=t;o&&(r=s(o)?P.loading(o,n):P.loading(o.render,{...n,...o}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},d=(e,t,o)=>{if(null==t)return void P.dismiss(r);let a={type:e,...c,...n,data:o},i=s(t)?{render:t}:t;return r?P.update(r,{...a,...i}):P(i.render,{...a,...i}),o},u=i(e)?e():e;return u.then(e=>d("success",l,e)).catch(e=>d("error",a,e)),u},P.success=w("success"),P.info=w("info"),P.error=w("error"),P.warning=w("warning"),P.warn=P.warning,P.dark=(e,t)=>I(e,_("default",{theme:"dark",...t})),P.dismiss=e=>{E.size>0?m.emit(1,e):S=S.filter(t=>null!=e&&t.options.toastId!==e)},P.clearWaitingQueue=function(e){return void 0===e&&(e={}),m.emit(5,e)},P.isActive=e=>{let t=!1;return E.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},P.update=function(e,t){void 0===t&&(t={}),setTimeout(()=>{let n=function(e,t){let{containerId:n}=t,r=E.get(n||C);return r&&r.getToast(e)}(e,t);if(n){let{props:r,content:o}=n,a={...r,...t,toastId:t.toastId||e,updateId:""+T++};a.toastId!==e&&(a.staleId=e);let s=a.render||o;delete a.render,I(s,a)}},0)},P.done=e=>{P.update(e,{progress:1})},P.onChange=e=>(m.on(4,e),()=>{m.off(4,e)}),P.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},P.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},m.on(2,e=>{C=e.containerId||e,E.set(C,e),S.forEach(e=>{m.emit(0,e.content,e.options)}),S=[]}).on(3,e=>{E.delete(e.containerId||e),0===E.size&&m.off(0).off(1).off(5)})}}]);