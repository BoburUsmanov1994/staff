(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{7572:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(19875)}])},4032:function(e,t,r){"use strict";r.d(t,{t:function(){return n}});let n={login:"login",getMe:"getMe",forgotPassword:"forgotPassword",register:"register",company:"company",companyCategory:"companyCategory",country:"country",subscription:"subscription"}},90236:function(e,t,r){"use strict";r.d(t,{n:function(){return n}});let n={login:"/api/auth/local",getMe:"/api/users/me",forgotPassword:"/api/auth/forgot-password",register:"/api/auth/local/register",company:"/api/companies",companyCategory:"/api/company-categories",country:"/api/countries",subscription:"/api/subscribe-types"}},40618:function(e,t,r){"use strict";r.d(t,{i7:function(){return o},xq:function(){return d},n7:function(){return p},_E:function(){return g}}),r(67294);var n=r(88767),a=r(79144),i=r(55678);let s=e=>{let{key:t="get-all",url:r="/",params:s={},showSuccessMsg:o=!1,hideErrorMsg:l=!1,enabled:c=!0}=e,{isLoading:d,isError:u,data:m,error:p,isFetching:x}=(0,n.useQuery)([t,s],()=>a.W.get(r,s),{onSuccess(){},onError(e){if(!l){var t,n;i.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.message)||"ERROR!!! ".concat(r," api not working"))}},enabled:c});return{isLoading:d,isError:u,data:m,error:p,isFetching:x}};var o=s;let l=(e,t)=>a.W.get(e,t),c=e=>{let{id:t=null,key:r="get-one",url:a="test",enabled:s=!0,params:o={},showSuccessMsg:c=!1,showErrorMsg:d=!0}=e,{isLoading:u,isError:m,data:p,error:x}=(0,n.useQuery)([r,t],()=>l("".concat(a,"/").concat(t),o),{onSuccess(){},onError(e){if(d){var t,r;i.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"ERROR!!! api not working")}},enabled:s});return{isLoading:u,isError:m,data:p,error:x}};var d=c;let u=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.W.post(e,t,r)},m=e=>{let{hideSuccessToast:t=!1,listKeyId:r=null}=e,a=(0,n.useQueryClient)(),{mutate:s,isLoading:o,isError:l,error:c,isFetching:d}=(0,n.useMutation)(e=>{let{url:t,attributes:r,config:n={}}=e;return u(t,r,n)},{onSuccess(e){if(!t){var n;i.Am.success((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"SUCCESS")}r&&a.invalidateQueries(r)},onError(e){var t,r;i.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"ERROR")}});return{mutate:s,isLoading:o,isError:l,error:c,isFetching:d}};var p=m;let x=(e,t,r)=>a.W.put(e,t,r),h=e=>{let{hideSuccessToast:t=!1,listKeyId:r=null}=e,a=(0,n.useQueryClient)(),{mutate:s,isLoading:o,isError:l,error:c,isFetching:d}=(0,n.useMutation)(e=>{let{url:t,attributes:r,config:n}=e;return x(t,r,n)},{onSuccess(e){if(!t){var n;i.Am.success((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.message)||"SUCCESS")}r&&a.invalidateQueries(r)},onError(e){var t,r;i.Am.error((null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)||"ERROR")}});return{mutate:s,isLoading:o,isError:l,error:c,isFetching:d}};var g=h;r(85893)},19875:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eo}});var n=r(85893),a=r(61953),i=r(61225),s=r(67074),o=r(62097),l=r(88942),c=r(51514),d=r(67294),u=r(44044),m=r(98948),p=r(94071),x=r(29630),h=r(79072),g=r(75084),y=r(53442),f=r(86378),j=r(67836),Z=r(58316),v=r(55343),b=r(9041),S=r(21609),C=r(74231),w=r(87536),k=r(47533),q=r(32631),I=r(40618),P=r(4032),_=r(90236),M=r(96486),z=r(11163),E=r(70754);let A=e=>{let{handleNext:t,handlePrev:r}=e,i=(0,z.useRouter)(),{data:s,isLoading:o}=(0,I.xq)({id:(0,M.get)(i.query,"companyId"),key:P.t.company,url:_.n.company,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,M.get)(i.query,"token"))}},enabled:!!((0,M.get)(i.query,"token")&&(0,M.get)(i.query,"companyId"))}),{data:l,isLoading:c}=(0,I.i7)({key:P.t.companyCategory,url:_.n.companyCategory,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,M.get)(i.query,"token"))}},enabled:!!(0,M.get)(i.query,"token")}),{data:u,isLoading:m}=(0,I.i7)({key:P.t.country,url:_.n.country,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,M.get)(i.query,"token"))}},enabled:!!(0,M.get)(i.query,"token")}),{mutate:p,isLoading:A}=(0,I.n7)({url:_.n.company,hideSuccessToast:!0}),W=C.Ry().shape({company_category:C.Z_().required(),name:C.Z_().required(),address:C.Z_().required(),country:C.Z_().required()}),{control:B,setError:R,handleSubmit:L,formState:{errors:D},reset:N}=(0,w.cI)({defaultValues:{company_category:"",name:"",address:"",country:""},mode:"onBlur",resolver:(0,k.X)(W)}),$=e=>{let{company_category:r,country:n,...a}=e;(0,M.get)(s,"data")?t():p({url:_.n.company,attributes:{data:{...a,country:parseInt(n),company_category:parseInt(r),user:parseInt((0,M.get)(i.query,"userId"))}},config:{headers:{Authorization:"Bearer ".concat((0,M.get)(i.query,"token"))}}},{onSuccess(e){let{data:r}=e;t(),i.replace({pathname:"/register",query:{token:(0,M.get)(i.query,"token"),userId:(0,M.get)(i.query,"userId"),companyId:(0,M.get)(r,"data.id")}})},onError(e){var t,r,n;R("company_category",{type:"manual",message:(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:null===(n=r.error)||void 0===n?void 0:n.message)||"error"})}})};return(0,d.useEffect)(()=>{(0,M.get)(s,"data")&&!o&&N({company_category:(0,M.get)(s,"data.company_category.id"),name:(0,M.get)(s,"data.name"),phone:(0,M.get)(s,"data.phone"),country:(0,M.get)(s,"data.country.id"),address:(0,M.get)(s,"data.address")})},[s]),(0,n.jsxs)("div",{style:{position:"relative"},children:[(A||c||m||o)&&(0,n.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,n.jsxs)(a.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(E.Z,{sx:{mb:4}}),(0,n.jsx)(x.Z,{children:"Loading..."})]})}),(0,n.jsxs)(a.Z,{sx:{mb:4},children:[(0,n.jsx)(x.Z,{variant:"h5",children:"Personal Information"}),(0,n.jsx)(x.Z,{sx:{color:"text.secondary"},children:"Enter Your Personal Information"})]}),(0,n.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:L($),children:(0,n.jsxs)(h.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(Z.Z,{id:"validation-basic-select",error:Boolean(D.company_category),htmlFor:"validation-basic-select",children:"Organization domain"}),(0,n.jsx)(w.Qr,{name:"company_category",control:B,rules:{required:!0},render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(y.Z,{value:t,label:"Organization domain",onChange:r,error:Boolean(D.company_category),labelId:"validation-basic-select","aria-describedby":"validation-basic-select",children:(0,M.get)(l,"data.results",[]).map(e=>(0,n.jsx)(f.Z,{value:(0,M.get)(e,"id"),children:(0,M.get)(e,"name")},(0,M.get)(e,"id")))})}}),D.company_category&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},id:"validation-basic-select",children:"field is required"})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(w.Qr,{name:"name",control:B,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(j.Z,{label:"Organization name",value:t,onBlur:a,onChange:r,error:Boolean(D.name),placeholder:"Organization name"})}}),D.name&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},children:D.name.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsx)(v.Z,{fullWidth:!0,children:(0,n.jsx)(w.Qr,{name:"phone",control:B,render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(j.Z,{label:"Mobile",value:t,onBlur:a,onChange:r,placeholder:"-- --- -- --",InputProps:{startAdornment:(0,n.jsx)(b.Z,{position:"start",children:"UZ (+998)"})}})}})})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(Z.Z,{id:"validation-basic-select2",error:Boolean(D.country),htmlFor:"validation-basic-select2",children:"Country"}),(0,n.jsx)(w.Qr,{name:"country",control:B,rules:{required:!0},render(e){let{field:{value:t,onChange:r}}=e;return(0,n.jsx)(y.Z,{value:t,label:"Country",onChange:r,error:Boolean(D.country),labelId:"validation-basic-select2","aria-describedby":"validation-basic-select2",children:(0,M.get)(u,"data.data",[]).map(e=>(0,n.jsx)(f.Z,{value:(0,M.get)(e,"id"),children:(0,M.get)(e,"attributes.name")},(0,M.get)(e,"id")))})}}),D.company_category&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},id:"validation-basic-select2",children:"field is required"})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(w.Qr,{name:"address",control:B,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(j.Z,{label:"Address",value:t,onBlur:a,onChange:r,error:Boolean(D.address),placeholder:"Address"})}}),D.address&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},children:D.address.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(g.Z,{color:"secondary",variant:"contained",onClick:r,startIcon:(0,n.jsx)(S.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,n.jsx)(g.Z,{variant:"contained",type:"submit",endIcon:(0,n.jsx)(S.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Next"})]})})]})})]})};var W=r(80562),B=r(39063);let R=e=>{let{handleNext:t}=e,r=(0,z.useRouter)(),[i,s]=(0,d.useState)(!1),[o,l]=(0,d.useState)(!1),{data:c,isLoading:u}=(0,I.i7)({key:P.t.getMe,url:_.n.getMe,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,M.get)(r.query,"token"))}},enabled:!!(0,M.get)(r.query,"token")}),{mutate:m,isLoading:p}=(0,I.n7)({url:_.n.register,hideSuccessToast:!0}),y=C.Ry().shape({password:C.Z_().min(5).required(),repeat_password:C.Z_().min(5).required(),username:C.Z_().min(3).required(),email:C.Z_().email().required()}),{control:f,setError:A,handleSubmit:R,formState:{errors:L},reset:D}=(0,w.cI)({defaultValues:{password:"",email:"",username:"",repeat_password:""},mode:"onBlur",resolver:(0,k.X)(y)}),N=e=>{let{password:n,repeat_password:a,...i}=e;(0,M.get)(c,"data")&&t(),(0,M.isEqual)(n,a)?m({url:_.n.register,attributes:{...i,password:n,role:3}},{onSuccess(e){let{data:n}=e;t(),r.replace({pathname:"/register",query:{token:(0,M.get)(n,"jwt"),userId:(0,M.get)(n,"user.id")}})},onError(e){var t,r,n;A("username",{type:"manual",message:(null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:null===(n=r.error)||void 0===n?void 0:n.message)||"error"})}}):A("repeat_password",{type:"manual",message:"Passwords didnt match"})};return(0,d.useEffect)(()=>{(0,M.get)(c,"data")&&!u&&D({username:(0,M.get)(c,"data.username"),email:(0,M.get)(c,"data.email")})},[c]),(0,n.jsxs)("div",{style:{position:"relative"},children:[(p||u)&&(0,n.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,n.jsxs)(a.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(E.Z,{sx:{mb:4}}),(0,n.jsx)(x.Z,{children:"Loading..."})]})}),(0,n.jsxs)(a.Z,{sx:{mb:4},children:[(0,n.jsx)(x.Z,{variant:"h5",children:"Account Information"}),(0,n.jsx)(x.Z,{sx:{color:"text.secondary"},children:"Enter Your Account Details"})]}),(0,n.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:R(N),children:(0,n.jsxs)(h.ZP,{container:!0,spacing:5,children:[(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(w.Qr,{name:"username",control:f,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(j.Z,{label:"Username",value:t,onBlur:a,onChange:r,error:Boolean(L.username),placeholder:"Username"})}}),L.username&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},children:L.username.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:12,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(w.Qr,{name:"email",control:f,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(j.Z,{label:"Email",value:t,onBlur:a,onChange:r,error:Boolean(L.email),placeholder:"Email"})}}),L.email&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},children:L.email.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(Z.Z,{htmlFor:"auth-login-v2-password",error:Boolean(L.password),children:"Password"}),(0,n.jsx)(w.Qr,{name:"password",control:f,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(B.Z,{value:t,onBlur:a,label:"Password",onChange:r,id:"auth-login-v2-password",error:Boolean(L.password),type:i?"text":"password",endAdornment:(0,n.jsx)(b.Z,{position:"end",children:(0,n.jsx)(W.Z,{edge:"end",onMouseDown:e=>e.preventDefault(),onClick:()=>s(!i),children:(0,n.jsx)(S.Z,{icon:i?"mdi:eye-outline":"mdi:eye-off-outline",fontSize:20})})})})}}),L.password&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},id:"",children:L.password.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsxs)(v.Z,{fullWidth:!0,children:[(0,n.jsx)(Z.Z,{htmlFor:"auth-login-v3-password",error:Boolean(L.repeat_password),children:"Repeat password"}),(0,n.jsx)(w.Qr,{name:"repeat_password",control:f,rules:{required:!0},render(e){let{field:{value:t,onChange:r,onBlur:a}}=e;return(0,n.jsx)(B.Z,{value:t,onBlur:a,label:"Repeat password",onChange:r,id:"uth-login-v3-password",error:Boolean(L.repeat_password),type:o?"text":"password",endAdornment:(0,n.jsx)(b.Z,{position:"end",children:(0,n.jsx)(W.Z,{edge:"end",onMouseDown:e=>e.preventDefault(),onClick:()=>l(!o),children:(0,n.jsx)(S.Z,{icon:o?"mdi:eye-outline":"mdi:eye-off-outline",fontSize:20})})})})}}),L.repeat_password&&(0,n.jsx)(q.Z,{sx:{color:"error.main"},id:"",children:L.repeat_password.message})]})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(g.Z,{type:"button",disabled:!0,variant:"contained",startIcon:(0,n.jsx)(S.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,n.jsx)(g.Z,{type:"submit",variant:"contained",endIcon:(0,n.jsx)(S.Z,{icon:"mdi:chevron-right",fontSize:20}),children:"Next"})]})})]})})]})};var L=r(72389),D=r(77028),N=r.n(D),$=r(15497);let Q=e=>{let{data:t,icon:r,name:i,selected:s,gridProps:o,iconProps:l,handleChange:c,color:d="primary"}=e,{title:u,value:m,content:p}=t;return t?(0,n.jsx)(h.ZP,{item:!0,...o,children:(0,n.jsxs)(a.Z,{onClick:()=>c(m),sx:{p:4,height:"100%",display:"flex",borderRadius:1,cursor:"pointer",position:"relative",alignItems:"center",flexDirection:"column",border:e=>"1px solid ".concat(e.palette.divider),...s===m?{borderColor:"".concat(d,".main")}:{"&:hover":{borderColor:e=>"rgba(".concat(e.palette.customColors.main,", 0.25)")}}},children:[r?(0,n.jsx)(S.Z,{icon:r,...l}):null,u?"string"==typeof u?(0,n.jsx)(x.Z,{sx:{fontWeight:500,...p?{mb:1}:{my:"auto"}},children:u}):u:null,p?"string"==typeof p?(0,n.jsx)(x.Z,{variant:"body2",sx:{my:"auto",textAlign:"center"},children:p}):p:null,(0,n.jsx)($.Z,{name:i,size:"small",color:d,value:m,onChange:c,checked:s===m,sx:{mb:-2,...!r&&!u&&!p&&{mt:-2}}})]})}):null},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")},F=(e,t)=>{let r;if(!e)return e;let n=t.fns.cardType(e),a=O(e);switch(n){case"amex":r="".concat(a.slice(0,4)," ").concat(a.slice(4,10)," ").concat(a.slice(10,15));break;case"dinersclub":r="".concat(a.slice(0,4)," ").concat(a.slice(4,10)," ").concat(a.slice(10,14));break;default:r="".concat(a.slice(0,4)," ").concat(a.slice(4,8)," ").concat(a.slice(8,12)," ").concat(a.slice(12,19))}return r.trim()},T=e=>{let t=e.replace(/^([1-9]\/|[2-9])$/g,"0$1/").replace(/^(0[1-9]|1[0-2])$/g,"$1/").replace(/^([0-1])([3-9])$/g,"0$1/$2").replace(/^(0?[1-9]|1[0-2])([0-9]{2})$/g,"$1/$2").replace(/^([0]+)\/|[0]+$/g,"0").replace(/[^\d\/]|^[\/]*$/g,"").replace(/\/\//g,"/");return t},V=(e,t,r)=>{let n=O(e),a=r.fns.cardType(t);return n.slice(0,"amex"===a?4:3)};r(61310);var U=r(17288);let X=[{value:"basic",title:(0,n.jsx)(x.Z,{variant:"h5",children:"Basic"}),content:(0,n.jsxs)(a.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(x.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"A simple start for start ups & Students"}),(0,n.jsxs)(a.Z,{sx:{mt:2,display:"flex"},children:[(0,n.jsx)(x.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,n.jsx)(x.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:"0"}),(0,n.jsx)(x.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})},{isSelected:!0,value:"standard",title:(0,n.jsx)(x.Z,{variant:"h5",children:"Standard"}),content:(0,n.jsxs)(a.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(x.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"For small to medium businesses"}),(0,n.jsxs)(a.Z,{sx:{mt:2,display:"flex"},children:[(0,n.jsx)(x.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,n.jsx)(x.Z,{component:"span",sx:{fontSize:"2rem",fontWeight:500,color:"primary.main"},children:"99"}),(0,n.jsx)(x.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})},{value:"enterprise",title:(0,n.jsx)(x.Z,{variant:"h5",children:"Enterprise"}),content:(0,n.jsxs)(a.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(x.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"Solution for enterprise & organizations"}),(0,n.jsxs)(a.Z,{sx:{mt:2,display:"flex"},children:[(0,n.jsx)(x.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,n.jsx)(x.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:"499"}),(0,n.jsx)(x.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})}],Y=e=>{let{handlePrev:t}=e,r=(0,z.useRouter)(),i=(0,U.a)(),s=X.filter(e=>e.isSelected)[X.filter(e=>e.isSelected).length-1].value,[o,l]=(0,d.useState)(""),[c,u]=(0,d.useState)(""),[m,p]=(0,d.useState)(""),[y,f]=(0,d.useState)(""),[Z,C]=(0,d.useState)(s),[w,k]=(0,d.useState)([]),{data:q,isLoading:A}=(0,I.i7)({key:P.t.subscription,url:_.n.subscription,params:{params:{populate:"*"},headers:{Authorization:"Bearer ".concat((0,M.get)(r.query,"token"))}},enabled:!!(0,M.get)(r.query,"token")}),W=e=>{let{target:t}=e;"cardNumber"===t.name?(t.value=F(t.value,N()),f(t.value)):"expiry"===t.name?(t.value=T(t.value),p(t.value)):"cvc"===t.name&&(t.value=V(t.value,y,N()),l(t.value))},B=e=>{"string"==typeof e?C(e):C(e.target.value)};(0,d.useEffect)(()=>{q&&k((0,M.get)(q,"data.data",[]).map(e=>({value:(0,M.get)(e,"attributes.name"),title:(0,n.jsx)(x.Z,{variant:"h5",children:(0,M.get)(e,"attributes.name")}),content:(0,n.jsxs)(a.Z,{sx:{my:"auto",display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(x.Z,{sx:{textAlign:"center",color:"text.secondary"},children:"A simple start for start ups & Students"}),(0,n.jsxs)(a.Z,{sx:{mt:2,display:"flex"},children:[(0,n.jsx)(x.Z,{component:"sup",sx:{mt:1.5,color:"primary.main",alignSelf:"flex-start"},children:"$"}),(0,n.jsx)(x.Z,{component:"span",sx:{fontSize:"2rem",color:"primary.main"},children:(0,M.get)(e,"attributes.salary_by_month")}),(0,n.jsx)(x.Z,{component:"sub",sx:{mb:1.5,alignSelf:"flex-end",color:"text.disabled"},children:"/month"})]})]})})))},[q]);let R=()=>"basic"==Z?1:"standard"==Z?2:3,{mutate:D,isLoading:$}=(0,I._E)({listKeyId:P.t.company}),O=()=>{D({url:"".concat(_.n.company,"/").concat((0,M.get)(r.query,"companyId")),attributes:{data:{subscribe_type:R()}},config:{headers:{Authorization:"Bearer ".concat((0,M.get)(r.query,"token"))}}},{onSuccess(){r.replace({pathname:"/"}),i.checkAuth((0,M.get)(r.query,"token"))},onError(){}})};return(0,n.jsxs)("div",{style:{position:"relative"},children:[(A||$)&&(0,n.jsx)("div",{style:{position:"absolute",zIndex:"9999",top:"50%",height:"100vh",width:"100%",left:"50%",transform:"translate(-50%,-50%)",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255,255,255,0.35)"},children:(0,n.jsxs)(a.Z,{sx:{mt:6,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,n.jsx)(E.Z,{sx:{mb:4}}),(0,n.jsx)(x.Z,{children:"Loading..."})]})}),(0,n.jsxs)(a.Z,{sx:{mb:4},children:[(0,n.jsx)(x.Z,{variant:"h5",children:"Select Plan"}),(0,n.jsx)(x.Z,{sx:{color:"text.secondary"},children:"Select plan as per your requirement"})]}),(0,n.jsxs)(h.ZP,{container:!0,spacing:5,children:[w.map((e,t)=>(0,n.jsx)(Q,{data:X[t],selected:Z,name:"custom-radios-plan",gridProps:{sm:4,xs:12},handleChange:B},t)),(0,n.jsxs)(h.ZP,{item:!0,xs:12,sx:{pt:e=>"".concat(e.spacing(11.5)," !important")},children:[(0,n.jsx)(x.Z,{variant:"h5",children:"Payment Information"}),(0,n.jsx)(x.Z,{sx:{color:"text.secondary"},children:"Enter your card information"})]}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsx)(v.Z,{fullWidth:!0,children:(0,n.jsx)(j.Z,{fullWidth:!0,name:"cardNumber",value:y,autoComplete:"off",label:"Card Number",onChange:W,placeholder:"0000 0000 0000 0000"})})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,sm:6,children:(0,n.jsx)(j.Z,{fullWidth:!0,name:"name",value:c,autoComplete:"off",label:"Name on Card",placeholder:"John Doe",onChange:e=>u(e.target.value)})}),(0,n.jsx)(h.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsx)(j.Z,{fullWidth:!0,name:"expiry",label:"Expiry",value:m,placeholder:"MM/YY",onChange:W,inputProps:{maxLength:"5"}})}),(0,n.jsx)(h.ZP,{item:!0,xs:6,sm:3,children:(0,n.jsx)(j.Z,{fullWidth:!0,name:"cvc",label:"CVC",value:o,autoComplete:"off",onChange:W,InputProps:{endAdornment:(0,n.jsx)(b.Z,{position:"start",sx:{"& svg":{cursor:"pointer"}},children:(0,n.jsx)(L.Z,{title:"Card Verification Value",children:(0,n.jsx)(a.Z,{sx:{display:"flex"},children:(0,n.jsx)(S.Z,{icon:"mdi:help-circle-outline",fontSize:20})})})})}})}),(0,n.jsx)(h.ZP,{item:!0,xs:12,children:(0,n.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)(g.Z,{color:"secondary",variant:"contained",onClick:t,startIcon:(0,n.jsx)(S.Z,{icon:"mdi:chevron-left",fontSize:20}),children:"Previous"}),(0,n.jsx)(g.Z,{color:"success",variant:"contained",onClick:()=>O(),children:"Submit"})]})})]})]})};var G=r(41796);let H=(0,s.ZP)(a.Z)(()=>({width:20,height:20,borderWidth:3,borderRadius:"50%",borderStyle:"solid"})),J=e=>{let{active:t,completed:r,error:a}=e,i=(0,o.Z)();return a?(0,n.jsx)(S.Z,{icon:"mdi:alert",fontSize:20,color:i.palette.error.main,transform:"scale(1.2)"}):r?(0,n.jsx)(S.Z,{icon:"mdi:check-circle",fontSize:20,color:i.palette.primary.main,transform:"scale(1.2)"}):(0,n.jsx)(H,{sx:{borderColor:t?"primary.main":(0,G.Fq)(i.palette.primary.main,.3)}})},K=(0,s.ZP)(a.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.down("md")]:{"& .MuiStepper-horizontal:not(.MuiStepper-alternativeLabel)":{flexDirection:"column",alignItems:"flex-start"}},"& .MuiStep-root":{"& .step-label":{display:"flex",alignItems:"center",justifyContent:"center"},"& .step-number":{fontWeight:600,letterSpacing:.25,fontSize:"2.125rem",marginRight:t.spacing(2.5),color:t.palette.text.primary},"& .step-title":{fontWeight:500,fontSize:"0.875rem",letterSpacing:"0.1px",color:t.palette.text.primary},"& .step-subtitle":{fontWeight:400,fontSize:"0.75rem",letterSpacing:"0.4px",color:t.palette.text.secondary},"& .MuiStepLabel-root.Mui-disabled":{"& .step-number":{color:t.palette.text.disabled}},"& .Mui-error":{"& .MuiStepLabel-labelContainer, & .step-number, & .step-title, & .step-subtitle":{color:t.palette.error.main}}},"& .MuiStepConnector-root":{"& .MuiStepConnector-line":{borderWidth:3,borderRadius:3},"&.Mui-active, &.Mui-completed":{"& .MuiStepConnector-line":{borderColor:t.palette.primary.main}},"&.Mui-disabled .MuiStepConnector-line":{borderColor:(0,G.Fq)(t.palette.primary.main,.3)}},"& .MuiStepper-alternativeLabel":{"& .MuiStepConnector-root":{top:10},"& .MuiStepLabel-labelContainer":{display:"flex",alignItems:"center",flexDirection:"column","& > * + *":{marginTop:t.spacing(1)}}},"& .MuiStepper-vertical":{"& .MuiStep-root":{"& .step-label":{justifyContent:"flex-start"},"& .MuiStepContent-root":{borderWidth:3,marginLeft:t.spacing(2.25),borderColor:t.palette.primary.main},"& .button-wrapper":{marginTop:t.spacing(4)},"&.active + .MuiStepConnector-root .MuiStepConnector-line":{borderColor:t.palette.primary.main}},"& .MuiStepConnector-root":{marginLeft:t.spacing(2.25),"& .MuiStepConnector-line":{borderRadius:0}}}}}),ee=[{title:"Account",subtitle:"Account Details"},{title:"Personal",subtitle:"Enter Information"},{title:"Billing",subtitle:"Payment Details"}],et=()=>{let[e,t]=(0,d.useState)(0),r=(0,z.useRouter)();console.log(r.query);let a=()=>{t(e+1)},i=()=>{0!==e&&t(e-1)};return(0,d.useEffect)(()=>{(0,M.get)(r.query,"token")&&(0,M.get)(r.query,"userId")&&((0,M.get)(r.query,"companyId")?t(2):t(1))},[r.query]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(K,{sx:{mb:10},children:(0,n.jsx)(m.Z,{activeStep:e,children:ee.map((e,t)=>(0,n.jsx)(u.Z,{children:(0,n.jsx)(p.Z,{StepIconComponent:J,children:(0,n.jsxs)("div",{className:"step-label",children:[(0,n.jsx)(x.Z,{className:"step-number",children:"0".concat(t+1)}),(0,n.jsxs)("div",{children:[(0,n.jsx)(x.Z,{className:"step-title",children:e.title}),(0,n.jsx)(x.Z,{className:"step-subtitle",children:e.subtitle})]})]})})},t))})}),(e=>{switch(e){case 0:return(0,n.jsx)(R,{handleNext:a});case 1:return(0,n.jsx)(A,{handleNext:a,handlePrev:i});case 2:return(0,n.jsx)(Y,{handlePrev:i});default:return null}})(e)]})},er=(0,s.ZP)("img")({maxWidth:200,height:"auto",maxHeight:"100%"}),en=(0,s.ZP)(a.Z)(e=>{let{theme:t}=e;return{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:t.spacing(12),[t.breakpoints.up("lg")]:{maxWidth:480},[t.breakpoints.down(1285)]:{maxWidth:400},[t.breakpoints.up("xl")]:{maxWidth:635}}}),ea=(0,s.ZP)(a.Z)(e=>{let{theme:t}=e;return{flex:1,display:"flex",alignItems:"center",justifyContent:"center",padding:t.spacing(6),backgroundColor:t.palette.background.paper,[t.breakpoints.up("sm")]:{padding:t.spacing(12)}}}),ei=(0,s.ZP)(a.Z)(e=>{let{theme:t}=e;return{maxWidth:700,margin:t.spacing(0,"auto"),[t.breakpoints.up("md")]:{width:700}}}),es=()=>{let e=(0,o.Z)(),{settings:t}=(0,c.r)(),r=(0,i.Z)(e.breakpoints.down("lg")),{skin:s}=t;return(0,n.jsxs)(a.Z,{className:"content-right",children:[r?null:(0,n.jsx)(en,{children:(0,n.jsx)(er,{alt:"register-multi-steps-illustration",src:"/images/pages/auth-v2-register-multi-steps-illustration.png"})}),(0,n.jsx)(ea,{sx:"bordered"!==s||r?{}:{borderLeft:"1px solid ".concat(e.palette.divider)},children:(0,n.jsx)(ei,{children:(0,n.jsx)(et,{})})})]})};es.getLayout=e=>(0,n.jsx)(l.Z,{children:e}),es.guestGuard=!0;var eo=es}},function(e){e.O(0,[491,53,774,888,179],function(){return e(e.s=7572)}),_N_E=e.O()}]);